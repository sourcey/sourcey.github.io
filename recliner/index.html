<!doctype html> <html class=no-js lang=en> <head> <title>Recliner.js | Sourcey</title> <meta charset=utf-8 /> <meta name=viewport content="width=device-width, initial-scale=1.0"/> <meta name=google-site-verification content=lC7-hHwqtiRqo7YTHc1fJ6t8ie-Hs7J4o5u3XRIF9Vw /> <link rel=alternate type="application/atom+xml" title="Atom Feed" href="/feed.xml"/> <link href="/stylesheets/app.css" media=screen rel=stylesheet /> <script src="/javascripts/all.js"></script> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-836728-7', 'sourcey.com');
      ga('send', 'pageview');
    </script> </head> <body class="page recliner recliner_index"> <nav class=top-bar data-topbar=""> <div class=top-bar-inner> <div id=social> <a rel="nofollow" href="https://github.com/sourcey"><i class=fi-social-github></i></a> <a href="https://twitter.com/sourceydevel"><i class=fi-social-twitter></i></a> <a href="https://plus.google.com/+SourceyDevel"><i class=fi-social-google-plus></i></a> <a href="https://facebook.com/sourceydevel"><i class=fi-social-facebook></i></a> </div> <ul class=title-area> <li class=name></li> <li class="toggle-topbar menu-icon"><a href="#" class=left></a></li> </ul> <section class=top-bar-section style="left: 0%;"> <ul class=left> <li class=home><a href="/">Home</a></li> <li class=has-dropdown><a href="/#projects">Projects</a> <ul class=dropdown><li class="title back js-generated"><h5><a href="javascript:void(0)">Back</a></h5></li> <li> <a href="/libsourcey"><b>LibSourcey</b><small>C++ networking evolved</small></a> </li> <li> <a href="/anionu"><b>Anionu</b><small>Cloud video surveillance</small></a> </li> <li> <a href="http://stompstart.com"><b>StompStart</b><small>Promote your startup</small></a> </li> <li> <a href="/symple"><b>Symple</b><small>Messaging made Symple</small></a> </li> <li> <a href="/mesh"><b>Mesh</b><small>Elegant, modern design</small></a> </li> <li> <a href="/pacm"><b>Pacm</b><small>Redistributable package manager</small></a> </li> <li> <a href="/pluga"><b>Pluga</b><small>C++ plugin system</small></a> </li> <li> <a href="http://avidsense.com"><b>Avid Sense</b><small>Freedom of expression</small></a> </li> <li> <a href="/recliner"><b>Recliner.js</b><small>Flexible lazy loading</small></a> </li> </ul> </li> <li class=has-dropdown><a href="/#articles">Articles</a> <ul class=dropdown> <li><a href="/archives">Archives</a></li> <li><a href="/feed.xml">Feed</a></li> </ul> </li> <li><a href="mailto:hello@sourcey.com">Contact</a></li> <li class=divider></li> </ul> </section> </div> </nav> <div id=main role=main> <article> <header class=article-header> <h1>Recliner.js</h1> </header> <div class="article-wrap row"> <div class="large-9 columns"> <div class=content> <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <dl class=status> <dt>Repository</dt> <dd><a rel="nofollow" href="https://github.com/sourcey/recliner">https://github.com/sourcey/recliner</a></dd> <dt>Licence</dt> <dd>MIT</dd> <dt>Dependencies</dt> <dd>jQuery</dd> </dl> <p>Recliner is a super lightweight (1KB), jQuery plugin for lazy loading images, iframes and other dynamic (AJAX) content.</p> <p>The script was born out of necessity when one of our clients was experiencing massive scroll lag on the mobile version of one of their media heavy news sites. It turned out that <code>lazy-load-xt</code> was the culprit, so we tested the other lazy load scripts out there but <strong>none</strong> of them meet our simple criteria:</p> <ul> <li>Lightweight</li> <li>Sets stateful CSS classes on elements</li> <li>Ability to override event callbacks for custom behaviour</li> <li>Can load <em>any</em> dynamic content (images, iframes, AJAX)</li> <li>Mobile friendly</li> </ul> <p>Recliner is currently used on some very high traffic sites, so it’s well tested and production ready. Being lazy never felt so good, just hook it up, and start sippin’ your margaritas!</p> <center> <a href="#demo" class="action-button button info radius">view the demo</a> </center> <h2 id=usage>Usage</h2> <p>Add jQuery (2.x or 1.x) and Recliner to your HTML source:</p> <pre class="highlight html"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//code.jquery.com/jquery-1.11.2.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"recliner.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre> <p>Instantiate Recliner on elements with the <code>.lazy</code> class on document load:</p> <pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">".lazy"</span><span class="p">).</span><span class="nx">recliner</span><span class="p">({</span>
        <span class="na">attrib</span><span class="p">:</span> <span class="s2">"data-src"</span><span class="p">,</span> <span class="c1">// selector for attribute containing the media src</span>
        <span class="na">throttle</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>      <span class="c1">// millisecond interval at which to process events</span>
        <span class="na">threshold</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>     <span class="c1">// scroll distance from element before its loaded</span>
        <span class="na">live</span><span class="p">:</span> <span class="kc">true</span>          <span class="c1">// auto bind lazy loading to ajax loaded elements</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre> <p>You can also progrmatically trigger an update to check for new elements to be loaded (this may be necessary in some egde cases):</p> <pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"lazyupdate"</span><span class="p">);</span>
</code></pre> <p>You can use Recliner to load a range of different dynamic content.</p> <div class="panel callout radius"> <p>Note: It’s good practice to manually specify image dimensions so your page height doesn’t go berserk as lazy content is loading.</p> </div> <h4 id=images>Images</h4> <pre class="highlight html"><code><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"some-placeholder-image.png"</span> <span class="na">data-src=</span><span class="s">"image-to-lazy-load.png"</span> <span class="na">width=</span><span class="s">"333"</span> <span class="na">height=</span><span class="s">"333"</span> <span class="nt">/&gt;</span> 
</code></pre> <h4 id=iframes>IFrames</h4> <pre class="highlight html"><code><span class="nt">&lt;iframe</span> <span class="na">data-src=</span><span class="s">"http://sourcey.com"</span> <span class="na">width=</span><span class="s">"333"</span> <span class="na">height=</span><span class="s">"333"</span><span class="nt">&gt;&lt;/iframe&gt;</span>
</code></pre> <h4 id=ajax>AJAX</h4> <pre class="highlight html"><code><span class="nt">&lt;div</span> <span class="na">data-src=</span><span class="s">"http://sourcey.com"</span> <span class="na">style=</span><span class="s">"width:333px;height:333px"</span><span class="nt">&gt;</span>
    Loading, be patient damnit!
<span class="nt">&lt;/div&gt;</span>
</code></pre> <h2 id=callbacks>Callbacks</h2> <p>Recliner uses a simple event based API for implementing custom behaviour:</p> <h4 id=lazyload>lazyload</h4> <p>The <code>lazyload</code> event will be triggered on elements that are about to be loaded.</p> <pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'lazyload'</span><span class="p">,</span> <span class="s1">'.lazy'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">$e</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="c1">// do something with the element to be loaded...</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'lazyload'</span><span class="p">,</span> <span class="nx">$e</span><span class="p">);</span>
<span class="p">});</span>
</code></pre> <h4 id=lazyshow>lazyshow</h4> <p>The <code>lazyshow</code> event will be triggered on elements after they have been loaded.</p> <pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'lazyshow'</span><span class="p">,</span> <span class="s1">'.lazy'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">$e</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="c1">// do something with the loaded element...</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'lazyshow'</span><span class="p">,</span> <span class="nx">$e</span><span class="p">);</span>
<span class="p">});</span>
</code></pre> <h2 id=styling>Styling</h2> <p>Recliner will set the following stateful CSS classes of your elements:</p> <ul> <li> <code>lazy-loading</code>: The element is currently being loaded</li> <li> <code>lazy-loaded</code>: The element has loaded</li> </ul> <p>Using the stateful classes you can add some fancy transitions to your images:</p> <pre class="highlight css"><code><span class="nt">img</span> <span class="p">{</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">.333s</span> <span class="n">ease-in</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">img</span><span class="nc">.lazy-loaded</span> <span class="p">{</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
<span class="p">}</span> 
</code></pre> <h2 id=demo>Demo</h2> <h5 id=image-1>Image #1</h5> <div class=lazy-container> <p><img class=lazy data-src="/images/stock/xiao-feng-lsd-320x200.jpg"></p> </div> <h5 id=image-2>Image #2</h5> <div class=lazy-container> <p><img class=lazy data-src="/images/stock/xiao-feng-dmt-320x200.jpg"></p> </div> <h5 id=image-3>Image #3</h5> <div class=lazy-container> <p><img class=lazy data-src="/images/stock/miyamoto-musashi-320x200.jpg"></p> </div> <h5 id=image-4>Image #4</h5> <div class=lazy-container> <p><img class=lazy data-src="/images/stock/logic-vs-art-320x200.jpg"></p> </div> <h5 id=ajax-element>AJAX Element</h5> <div class=lazy-container> <div class=lazy data-src="/recliner/randomcontent"></div> </div> <h5 id=iframe-element>IFrame Element</h5> <div class=lazy-container> <iframe class=lazy data-src="/recliner/randomcontent" frameborder=0 vspace=0 hspace=0></iframe> </div> <script src="/javascripts/recliner.min.js"></script> <script>
    $(function() {
        // instantiate recliner
        $('.lazy').recliner({
            attrib: "data-src", // selector for attribute containing the media src
            throttle: 300,      // millisecond interval at which to process events
            threshold: 100,     // scroll distance from element before its loaded
            live: true          // auto bind lazy loading to ajax loaded elements          
        });
    });
</script> <style>
    .lazy-container {
        padding: 15px;
        background: #eee;
        margin-bottom: 30px;
        border-radius: 3px;
    }
    .lazy-container p {
        margin-bottom: 0px;
    }
    .lazy {
        margin: 0 auto !important;
        width: 320px !important;
        height: 200px !important;
        outline: 0 !important;
        border: none !important;
        display: block !important;
        box-shadow: 0px 2px 4px #999 !important;
        background: url(/images/loader.gif) no-repeat center;
    }
    .lazy-loaded {
        background-image: none;
    }
</style> <h2 id=contributing>Contributing</h2> <ol> <li>Fork it</li> <li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li> <li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li> <li>Push to the branch (<code>git push origin my-new-feature</code>)</li> <li>Create new Pull Request</li> </ol> <h2 id=issues>Issues</h2> <p>If you find any bugs please use the <a rel="nofollow" href="https://github.com/sourcey/recliner/issues">Github issue tracker</a>.</p> </body></html> </div> </div> <div class="large-3 columns"> <div class="sidebar sidebar-float"> <div class="sidebar-section toc"> <h4 class=no_toc id=contents>Contents</h4> <ul id=markdown-toc> <li> <a id=markdown-toc-usage href="#usage">Usage</a> <ul> <li><a id=markdown-toc-images href="#images">Images</a></li> <li><a id=markdown-toc-iframes href="#iframes">IFrames</a></li> <li><a id=markdown-toc-ajax href="#ajax">AJAX</a></li> </ul> </li> <li> <a id=markdown-toc-callbacks href="#callbacks">Callbacks</a> <ul> <li><a id=markdown-toc-lazyload href="#lazyload">lazyload</a></li> <li><a id=markdown-toc-lazyshow href="#lazyshow">lazyshow</a></li> </ul> </li> <li><a id=markdown-toc-styling href="#styling">Styling</a></li> <li><a id=markdown-toc-demo href="#demo">Demo</a></li> <li><a id=markdown-toc-contributing href="#contributing">Contributing</a></li> <li><a id=markdown-toc-issues href="#issues">Issues</a></li> </ul> </div> </div> </div> </div> </article> </div> <footer id=footer> <div class="row show-for-large-up"> <div class="ad ad-720x90 text-center"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class=adsbygoogle style="display:inline-block;width:728px;height:90px" data-ad-client=ca-pub-1397369873900370 data-ad-slot=8042301285></ins> <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
          </script> </div> </div> <p> As with all business minded artists, we have fought the inevitable battle of conformity vs expression, and have emerged victorious with sanity intact to plunder the digiverse in search of new and interesting challenges. For more information, or a quote, drop us an email and tell us what you're working on. </p> <p>&copy; 2016 Sourcey<p> </footer> </body> </html>